<script src="//www.google-analytics.com/cx/api.js?experiment=v_9IJrk-SeuwYm_VfsNDSA"></script>

<!-- jQuery and jQuery fallback -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>window.jQuery || document.write("<script src='{{ "jquery.min.js" | asset_url }}'>\x3C/script>")</script>
{{ 'app.js' | asset_url | script_tag }}

{% if settings.product_slideshow_animation == 'zoom' %}
  {{ "cloudzoom.js" | asset_url | script_tag }}
{% endif %}

{{ 'option_selection.js' | shopify_asset_url | script_tag }}

<!-- MailChimp Single opt in -->
<script src="{{'mc-submit.js' | asset_url}}"></script>

<!-- This site is converting visitors into subscribers and customers with OptinMonster - http://optinmonster.com -->
<script>
  var om580459a6dc0e6,om580459a6dc0e6_poll=function(){
  var r=0;return function(n,l){
  clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){
  if(e.getElementById(n)){
  om580459a6dc0e6_poll(function(){
  if(window['om_loaded']){
  if(!om580459a6dc0e6){
  om580459a6dc0e6=new OptinMonsterApp();
  return om580459a6dc0e6.init({"s":"24167.580459a6dc0e6","staging":0,"dev":0,"beta":0});
  }
  }
  },25);
  return;
  }
  var d=false,o=e.createElement(t);
  o.id=n,o.src="//a.optnmnstr.com/app/js/api.min.js",o.onload=o.onreadystatechange=function(){
  if(!d){
  if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){
  try{d=om_loaded=true;om580459a6dc0e6=new OptinMonsterApp();
  om580459a6dc0e6.init({
  "s":"24167.580459a6dc0e6","staging":0,"dev":0,"beta":0
  });
  o.onload=o.onreadystatechange=null;
  }catch(t){}
  }
  }
  };
  (document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}
  (document,"script","omapi-script");
</script>
<!-- / OptinMonster -->



<!-- Facebook Pixel Code
<script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','//connect.facebook.net/en_US/fbevents.js');

  fbq('init', '1498421600461552');
  fbq('track', "PageView");</script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1498421600461552&ev=PageView&noscript=1"/>
</noscript>
End Facebook Pixel Code -->


<script>
  window['friendbuy'] = window['friendbuy'] || [];
  window['friendbuy'].push(['site', 'site-ad223c75-host']);
  window['friendbuy'].push(['track', 'customer', {id: '{{customer.id}}',email: '{{customer.email}}'}]);
  (function (f, r, n, d, b, y) {
    b = f.createElement(r), y = f.getElementsByTagName(r)[0];b.async = 1;b.src = n;y.parentNode.insertBefore(b, y);
  })(document, 'script', '//djnf6e5yyirys.cloudfront.net/js/friendbuy.min.js');
</script>

<script>
  (function() {
    /* Begin Discount Autofill Code */
    /* Read the Query String value from the URL */
    /* Link: http://stackoverflow.com/a/2880929 - Notes: No clue how this regex stuff works. Probably fairy magic.  */
    var urlParams;
    (window.onpopstate = function () {
      var match,
      pl     = /\+/g,  // Regex for replacing addition symbol with a space
      search = /([^&=]+)=?([^&]*)/g,
      decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
      query  = window.location.search.substring(1);

      urlParams = {};
      while (match = search.exec(query))
      urlParams[decode(match[1])] = decode(match[2]);
    })();

    /* If the value of the hidden discount input field is blank, undefined or null then set the contents of localstorage discount to be the result of our Query String function above */
    if ($("#discount_input").val() == ('' || undefined || null || 'undefined')) {
      /* Set sessionStorage variable "discount" to the result of our Query string function above */
      sessionStorage.setItem("discount", urlParams["discount"]);
    }

    /* If the value in our hidden input field doesnâ€™t match the result of our Query String function above then clear the current sessionStorage value for "discount" and replace it with the new one */
    /* Link: http://stackoverflow.com/q/19844750 */
    else if ($("#discount_input").val() != urlParams["discount"]) {
      sessionStorage.removeItem("discount");
      sessionStorage.setItem("discount", urlParams["discount"]);
    }
    /* End Discount Autofill Code */

  }());
</script>

<!-- Hits Analytics tracking code -->
{% if shop.customer_accounts_enabled %}
  {% if customer %}
    <script type="text/javascript">
      function hitsReady() {
        if (typeof hits != 'undefined') {
          hits('user','identify', {'id' : '{{ customer.id }}'});
        }
        else {
          setTimeout(hitsReady,500);
        }
      }
      window.attachEvent ? window.attachEvent('onload', hitsReady) : window.addEventListener('load', hitsReady, false);
    </script>
  {% endif %}
{% endif %}
<!-- end of Hits Analytics code -->

<!-- Google AB Testing:: Ask Google Analytics which variation to show the user -->
<script>var chosenVariation = cxApi.chooseVariation();</script>
<!-- End of Google AB Testing - ID = cxApi.chooseVariation();   -->
